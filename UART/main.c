#include <reg52.h>
#include <stdio.h>
sbit led=P2^7;

char putchar(char dat){
        //????????
        SBUF = dat;     //?????????
        while(!TI);    //??????,TI??????? ?1
        TI = 0;      //????????
        return dat;  //?????????printf
}
//???????
void UartInit()                //9600bps@11.0592MHz
{
      SCON = 0x50;            //0101 0000 ??????1 ????
      TMOD &= 0x0F;           //??TMOD????1??
      TMOD |= 0X20;           //?????1????2:8?????
      TH1 = 0xFD;             //??????
      TL1 = 0XFD;
      TR1 = 1;                //?????1
			ES= 1;
			EA= 1;
			printf("done");
}
 
void main()
{
    char receive;//???????????
    UartInit();
    while(1)
    {
        if(RI==1)  //RI=1??????????
        {
           RI=0;   //RI?0??????
           receive=SBUF;//????????????????
           //???????,???????
           if(receive=='O')
               led=0;
           else if(receive=='C')
               led=1;        
        }
    }
}
 